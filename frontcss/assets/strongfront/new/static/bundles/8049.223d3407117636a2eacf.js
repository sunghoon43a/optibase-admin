(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[8049],{581996:(e,t,n)=>{"use strict";n.d(t,{ResizerDetacherState:()=>r});var i=n(650151),s=n(129025);class r{constructor(e){this._alive=new s.WatchedValue,this._container=new s.WatchedValue,this._width=new s.WatchedValue,this._height=new s.WatchedValue,this._fullscreen=new s.WatchedValue,this._detachable=new s.WatchedValue,this._fullscreenable=new s.WatchedValue,this._visible=new s.WatchedValue,this._availWidth=new s.WatchedValue,this._availHeight=new s.WatchedValue,this._owner=new s.WatchedValue,this._ownersStack=[],this.owner=this._owner.readonly(),this._bridge={alive:this._alive.readonly(),container:this._container.readonly(),width:this._width.readonly(),height:this._height.readonly(),fullscreen:this._fullscreen.readonly(),detachable:this._detachable.readonly(),fullscreenable:this._fullscreenable.readonly(),visible:this._visible.readonly(),availWidth:this._availWidth.readonly(),availHeight:this._availHeight.readonly(),remove:()=>{const e=this._owner.value();e&&e.remove&&e.remove()},negotiateWidth:e=>{const t=this._owner.value();t&&t.negotiateWidth&&t.negotiateWidth(e)},negotiateHeight:e=>{const t=this._owner.value();t&&t.negotiateHeight&&t.negotiateHeight(e)},requestFullscreen:()=>{const e=this._owner.value();e&&e.requestFullscreen&&e.requestFullscreen()},exitFullscreen:()=>{const e=this._owner.value();e&&e.exitFullscreen&&e.exitFullscreen()},detach:e=>{const t=this._owner.value();t&&t.detach&&t.detach(e)},attach:()=>{const e=this._owner.value();e&&e.attach&&e.attach()}},e&&this.pushOwner(e)}bridge(){return this._bridge}pushOwner(e){if(!e.alive.value())return;for(const e of this._ownersStack)this._unsubscribeOwner(e);const t={owner:e};this._ownersStack.push(t),this._subscribeOwner(t)}_subscribeOwner(e){const t=e.owner;if(e.deathWatcher||(this._alive.setValue(!0),e.deathWatcher=t.alive.spawn(),e.deathWatcher.subscribe((t=>{t||this._deadHandler(e)}))),this._owner.setValue(t),!e.subscriptions){const n=e.subscriptions=[];this._visible.setValue(!1);const i=(e,t)=>{if(e){const i=e.spawn();n.push(i),i.subscribe((e=>{t.setValue(e)}),{callWithLast:!0})}else t.deleteValue()};i(t.container,this._container),i(t.width,this._width),i(t.height,this._height),i(t.fullscreen,this._fullscreen),i(t.detachable,this._detachable),i(t.fullscreenable,this._fullscreenable),i(t.availWidth,this._availWidth),i(t.availHeight,this._availHeight),i(t.visible,this._visible)}}_unsubscribeOwner(e,t){if(e.subscriptions){for(const t of e.subscriptions)t.unsubscribe();e.subscriptions=null}t&&e.deathWatcher&&(e.deathWatcher.unsubscribe(),e.deathWatcher=null)}_deadHandler(e){const t=this._ownersStack.indexOf(e);(0,i.assert)(-1!==t,"sanitized owner should be in stack");for(let e=this._ownersStack.length-1;e>=t;e--)this._unsubscribeOwner(this._ownersStack[e],!0);this._ownersStack.length=t,t>0?this._subscribeOwner(this._ownersStack[t-1]):(this._alive.setValue(!1),this._owner.deleteValue())}}},484443:(e,t,n)=>{"use strict";function i(e,t){let n=0;for(const{min:i,max:s}of t){
if(e<i||s<i)continue;const t=Math.min(e,s);if(n=Math.max(n,t),e===n)break}return n}function s(e){const t=[];if(void 0===e)return[];Array.isArray(e)||(e=[e]);for(const n of e){let e,i;isFinite(n)?e=i=Number(n):(e=+n.min,i=+n.max),(e<0||isNaN(e))&&(e=0),isNaN(i)&&(i=1/0),e<=i&&i>0&&t.push({min:e,max:i})}return t.sort(((e,t)=>e.min-t.min||e.max-t.max)),t}function r(e,t){if(e.length!==t.length)return!1;for(let n=e.length;n--;){if(e[n].min!==t[n].min)return!1;if(e[n].max!==t[n].max)return!1}return!0}n.d(t,{determineSize:()=>i,negotiationsAreEqual:()=>r,processNegotiation:()=>s})},974493:(e,t,n)=>{"use strict";n.d(t,{Root:()=>f});var i=n(129025),s=n(581996);class r{constructor(e){this._document=e,this.isFullscreen=new i.WatchedValue;const t=()=>{const e=["fullscreenElement","webkitFullscreenElement","mozFullscreenElement","mozFullScreenElement","msFullscreenElement"];for(let t=0;t<e.length;t++){const n=e[t];if(n in this._document){this.isFullscreen.setValue(!!this._document[n]);break}}};t();for(const n of["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"])e.addEventListener(n,t,!1)}enter(){const e=this._document.documentElement;for(const t of["requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen"])if("function"==typeof e[t]){e[t]();break}this.isFullscreen.setValue(!0)}exit(){const e=this._document;for(const t of["exitFullscreen","mozCancelFullScreen","mozExitFullscreen","webkitExitFullscreen","msExitFullscreen"])if("function"==typeof e[t]){e[t]();break}this.isFullscreen.setValue(!1)}}var o=n(470316),a=n(251954);class l{constructor(e){this.isFullscreen=new i.WatchedValue,this._handleExit=e=>{27!==(0,o.hashFromEvent)(e)||e.defaultPrevented||(e.preventDefault(),this.exit())},this._element=e}enter(){this.isFullscreen.setValue(!0),a.emit("onInternalFullscreenShow"),this._element.addEventListener("keydown",this._handleExit)}exit(){this.isFullscreen.setValue(!1),a.emit("onInternalFullscreenHide"),this._element.removeEventListener("keydown",this._handleExit)}}var c=n(554433),u=n(314802),d=n(650151),h=n(638456);class f{constructor(e,t){this._updateDocumentHeight=e=>{"visual"===this._viewportType&&this._window.document.documentElement.style.setProperty("height",`${e}px`,"important")},this._window=e,this._fullscreenApi=t?new l(e.document.body):new r(e.document),this._viewportType=h.CheckMobile.iOS()&&!(0,u.isOnMobileAppPage)("any")&&this._window.visualViewport?"visual":"quirks","visual"===this._viewportType?this._viewport=(0,d.ensure)(this._window.visualViewport):this._viewport=this._window;const n=this._layoutSizeSensor=this._window.document.createElement("div");n.id="layout-size-sensor",n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.right="0",n.style.bottom="0",n.style.pointerEvents="none",n.style.visibility="hidden",this._initFullscreen()}allocate(){this.free();const e=this._window.document,t=e.createElement("div");t.classList.add("js-rootresizer__contents"),t.style.position="relative",t.style.width="100%",t.style.height="100%",
e.body.insertAdjacentElement("afterbegin",t),e.body.insertAdjacentElement("afterbegin",this._layoutSizeSensor),this._visibilityApi=new c.VisibilityApi(this._window.document);const n={alive:new i.WatchedValue(!0),fullscreenable:new i.WatchedValue(!0),container:new i.WatchedValue(t),width:new i.WatchedValue,height:new i.WatchedValue,availWidth:new i.WatchedValue,availHeight:new i.WatchedValue,visible:this._visibilityApi.isVisible,fullscreen:this._fullscreenApi.isFullscreen,remove:()=>{n.alive.setValue(!1)},attach:()=>{n.alive.setValue(!1),this._window.close()},requestFullscreen:()=>{this._requestFullscreen()},exitFullscreen:()=>{this._exitFullscreen()}};return n.alive.subscribe((e=>{e||n!==this._area||this.free()})),this._area=n,this._resizeHandler=()=>{const e=this._width(n)||800,t=this._height(n)||600;n.availHeight.setValue(t),n.availWidth.setValue(e),n.height.setValue(t),n.width.setValue(e)},this._area.height.subscribe(this._updateDocumentHeight,{callWithLast:!0}),this._resizeHandler(),this._viewport.addEventListener("resize",this._resizeHandler),new s.ResizerDetacherState(n).bridge()}free(){if(this._resizeHandler&&(this._viewport.removeEventListener("resize",this._resizeHandler),this._resizeHandler=void 0),this._visibilityApi&&(this._visibilityApi.destroy(),this._visibilityApi=void 0),this._area){const e=this._area;this._area=void 0,e.height.unsubscribe(this._updateDocumentHeight),e.alive.setValue(!1);const t=e.container.value(),n=null==t?void 0:t.parentElement;n&&(n.removeChild(t),n.removeChild(this._layoutSizeSensor))}}_height(e){if("visual"===this._viewportType)return this._layoutSizeSensor.clientHeight;return e.container.value().clientHeight}_width(e){return e.container.value().clientWidth}_requestFullscreen(){this._fullscreenApi.enter()}_exitFullscreen(){this._fullscreenApi.exit()}_initFullscreen(){this._fullscreenApi.isFullscreen.subscribe((e=>{this._resizeHandler&&this._resizeHandler()}))}}},554433:(e,t,n)=>{"use strict";n.d(t,{VisibilityApi:()=>s});var i=n(129025);class s{constructor(e){let t;this.isVisible=new i.WatchedValue(!0);let n=null;for(const i of["","moz","ms","webkit"]){const s=i?`${i}Hidden`:"hidden";if(s in e){t=`${i}visibilitychange`,n=()=>{this.isVisible.setValue(!e[s])},n(),e.addEventListener(t,n,!1);break}}this.destroy=()=>{n&&(e.removeEventListener(t,n,!1),n=null)}}}},414879:(e,t,n)=>{"use strict";var i,s;n.r(t),n.d(t,{Months:()=>s,WeekDays:()=>i}),function(e){e[e.SUNDAY=1]="SUNDAY",e[e.MONDAY=2]="MONDAY",e[e.TUESDAY=3]="TUESDAY",e[e.WEDNESDAY=4]="WEDNESDAY",e[e.THURSDAY=5]="THURSDAY",e[e.FRIDAY=6]="FRIDAY",e[e.SATURDAY=7]="SATURDAY"}(i||(i={})),function(e){e[e.JANUARY=0]="JANUARY",e[e.FEBRUARY=1]="FEBRUARY",e[e.MARCH=2]="MARCH",e[e.APRIL=3]="APRIL",e[e.MAY=4]="MAY",e[e.JUNE=5]="JUNE",e[e.JULY=6]="JULY",e[e.AUGUST=7]="AUGUST",e[e.SEPTEMBER=8]="SEPTEMBER",e[e.OCTOBER=9]="OCTOBER",e[e.NOVEMBER=10]="NOVEMBER",e[e.DECEMBER=11]="DECEMBER"}(s||(s={}))},936410:(e,t,n)=>{"use strict";n.r(t),n.d(t,{monthsFullNames:()=>r,monthsShortNames:()=>o,weekDaysFullNames:()=>a,weekDaysMiniNames:()=>c,
weekDaysShortNames:()=>l});var i=n(444372),s=n(414879);const r={[s.Months.JANUARY]:i.t(null,void 0,n(926910)),[s.Months.FEBRUARY]:i.t(null,void 0,n(316467)),[s.Months.MARCH]:i.t(null,void 0,n(684675)),[s.Months.APRIL]:i.t(null,void 0,n(997637)),[s.Months.MAY]:i.t(null,void 0,n(668327)),[s.Months.JUNE]:i.t(null,void 0,n(49385)),[s.Months.JULY]:i.t(null,void 0,n(323230)),[s.Months.AUGUST]:i.t(null,void 0,n(486797)),[s.Months.SEPTEMBER]:i.t(null,void 0,n(661132)),[s.Months.OCTOBER]:i.t(null,void 0,n(290784)),[s.Months.NOVEMBER]:i.t(null,void 0,n(171194)),[s.Months.DECEMBER]:i.t(null,void 0,n(55669))},o={[s.Months.JANUARY]:i.t(null,void 0,n(795425)),[s.Months.FEBRUARY]:i.t(null,void 0,n(835050)),[s.Months.MARCH]:i.t(null,void 0,n(651369)),[s.Months.APRIL]:i.t(null,void 0,n(442762)),[s.Months.MAY]:i.t(null,{context:"short"},n(227991)),[s.Months.JUNE]:i.t(null,void 0,n(715224)),[s.Months.JULY]:i.t(null,void 0,n(6215)),[s.Months.AUGUST]:i.t(null,void 0,n(38465)),[s.Months.SEPTEMBER]:i.t(null,void 0,n(757902)),[s.Months.OCTOBER]:i.t(null,void 0,n(73546)),[s.Months.NOVEMBER]:i.t(null,void 0,n(671230)),[s.Months.DECEMBER]:i.t(null,void 0,n(92203))},a={[s.WeekDays.SUNDAY]:i.t(null,void 0,n(272149)),[s.WeekDays.MONDAY]:i.t(null,void 0,n(561199)),[s.WeekDays.TUESDAY]:i.t(null,void 0,n(944979)),[s.WeekDays.WEDNESDAY]:i.t(null,void 0,n(107147)),[s.WeekDays.THURSDAY]:i.t(null,void 0,n(107951)),[s.WeekDays.FRIDAY]:i.t(null,void 0,n(772970)),[s.WeekDays.SATURDAY]:i.t(null,void 0,n(101144))},l={[s.WeekDays.SUNDAY]:i.t(null,void 0,n(186577)),[s.WeekDays.MONDAY]:i.t(null,void 0,n(783085)),[s.WeekDays.TUESDAY]:i.t(null,void 0,n(794316)),[s.WeekDays.WEDNESDAY]:i.t(null,void 0,n(875094)),[s.WeekDays.THURSDAY]:i.t(null,void 0,n(409787)),[s.WeekDays.FRIDAY]:i.t(null,void 0,n(300564)),[s.WeekDays.SATURDAY]:i.t(null,void 0,n(936835))},c={[s.WeekDays.SUNDAY]:i.t(null,{context:"day_of_week"},n(85954)),[s.WeekDays.MONDAY]:i.t(null,{context:"day_of_week"},n(11268)),[s.WeekDays.TUESDAY]:i.t(null,{context:"day_of_week"},n(831533)),[s.WeekDays.WEDNESDAY]:i.t(null,{context:"day_of_week"},n(226230)),[s.WeekDays.THURSDAY]:i.t(null,{context:"day_of_week"},n(24793)),[s.WeekDays.FRIDAY]:i.t(null,{context:"day_of_week"},n(519801)),[s.WeekDays.SATURDAY]:i.t(null,{context:"day_of_week"},n(963331))}},470316:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Modifiers:()=>i.Modifiers,hashFromEvent:()=>i.hashFromEvent,hashShiftPlusEnter:()=>i.hashShiftPlusEnter,humanReadableHash:()=>i.humanReadableHash,humanReadableModifiers:()=>i.humanReadableModifiers,isMacKeyboard:()=>i.isMacKeyboard,modifiersFromEvent:()=>i.modifiersFromEvent});var i=n(591800)},519073:(e,t,n)=>{"use strict";function i(e){return void 0!==e&&e.includes("crypto")}function s(e,t){return"stock"===e&&t.includes("right")||"right"===e}function r(e,t){return o(e,t)||"stock"===e&&t.includes("fund")&&t.includes("etf")||"structured"===e&&t.includes("etn")}function o(e,t){return"fund"===e&&t.includes("etf")}function a(e){return"economic"===e}function l(e){return"forex"===e}function c(e,t,n){
return i(t)&&"spot"===e&&"USD"===n}function u(e,t){return"spot"===e&&t.includes("cryptoasset")}function d(e){var t;return Boolean(null===(t=e.typespecs)||void 0===t?void 0:t.includes("yield"))}function h(e,t){return"stock"===e&&t.includes("common")||"stock"===e&&t.includes("preferred")||"stock"===e&&t.includes("forward")||"stock"===e&&t.includes("bonus")||"stock"===e&&t.includes("cfd")||"fund"===e&&t.includes("mutual")||"fund"===e&&t.includes("unit")||"fund"===e&&t.includes("trust")||"fund"===e&&t.includes("reit")||"fund"===e&&t.includes("etn")||"fund"===e&&t.includes("closedend")||"bond"===e&&t.includes("convertible")||"dr"===e||"warrant"===e||"structured"===e&&!t.includes("etn")}n.d(t,{hasCryptoTypespec:()=>i,isCryptoSpotUsd:()=>c,isCryptoassetSpot:()=>u,isEconomicSymbol:()=>a,isEtf:()=>r,isForexSymbol:()=>l,isFundEtf:()=>o,isRight:()=>s,isStocksSymbol:()=>h,isYield:()=>d})},83871:(e,t,n)=>{"use strict";n.d(t,{SYMBOL_LIST_SERVICE:()=>i});const i={id:"SymbolListService"}},440498:(e,t,n)=>{"use strict";n.d(t,{DELETED_SYMBOLS_LIST_ID:()=>a,DeletedSymbolsList:()=>u,isDeletedSymbolsList:()=>c});var i=n(49437),s=n(738600);const r="deleted_symbols_list",o="is_deleted_symbols_list_active",a="deleted_symbols_list_id",l="There was an error during attempt to set local storage value",c=e=>e===a;class u{constructor(){this._logError=(e,t)=>{e instanceof Error?s.logger.logError(e.message):s.logger.logError(t)}}createList(e){this._setList(e)}removeList(){try{i.TVLocalStorage.removeItem(r)}catch(e){this._logError(e,"There was an error during local storage item removal")}}addSymbols(e){const t=this.getList();if(!t)return;const n=new Set(t.symbols);for(const t of e)n.add(t);const i=Array.from(n);i.length>100?t.symbols=i.reverse().slice(0,100).reverse():t.symbols=i,this._setList(t)}removeSymbols(e){const t=this.getList();if(!t)return;const n=new Set(t.symbols);for(const t of e)n.delete(t);t.symbols=Array.from(n),this._setList(t)}replaceSymbols(e){const t=this.getList();t&&(t.symbols=e,this._setList(t))}getIsActive(){try{return"true"===i.TVLocalStorage.getItem(o)}catch(e){return this._logError(e,l),!1}}setIsActive(e){try{i.TVLocalStorage.setItem(o,String(e))}catch(e){this._logError(e,l)}}getList(){try{const e=i.TVLocalStorage.getItem(r);return e?JSON.parse(e):null}catch(e){return this._logError(e,"There was an error during attempt to get local storage value"),null}}_setList(e){try{i.TVLocalStorage.setItem(r,JSON.stringify(e))}catch(e){this._logError(e,l)}}}},738600:(e,t,n)=>{"use strict";n.d(t,{logger:()=>i});const i=(0,n(201089).getLogger)("Platform.Model.Watchlist")},34077:e=>{e.exports={loaderContainer:"loaderContainer-UjjEDANi",loaderOrderContainer:"loaderOrderContainer-UjjEDANi",openAnimation:"openAnimation-UjjEDANi",openOrderAnimation:"openOrderAnimation-UjjEDANi"}},531005:(e,t,n)=>{"use strict";n.d(t,{reconnectChartApi:()=>i,setBroker:()=>s});n(730128);function i(e){const t=window.ChartApiInstance;window.is_authenticated&&(t.disconnect(),e&&t.authTokenManager().reset(),setTimeout((()=>t.connect()),500))}function s(e){
window.ChartApiInstance.setBroker(e)}},580602:(e,t,n)=>{"use strict";n.d(t,{PLATFORM_ACCESSIBILITY_ENABLED:()=>r,createScopedVisibleElementFilter:()=>o,mapKeyCodeToDirection:()=>d,navigationOrderComparator:()=>a,queryFocusableElements:()=>c,queryTabbableElements:()=>l,updateTabIndexes:()=>u});var i=n(125226),s=n(31341);n(77122);const r=(0,i.isFeatureEnabled)("platform_accessibility");function o(e){return t=>{let n=t;for(;n!==e&&null!==n;){const e=getComputedStyle(n);if("none"===e.display||"visible"!==e.visibility)return!1;n=n.parentElement}return!0}}function a(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}function l(e){return Array.from(e.querySelectorAll('button:not([disabled]):not([aria-disabled]):not([tabindex="-1"]), [tabindex]:not([disabled]):not([aria-disabled]):not([tabindex="-1"])')).filter(o(e))}function c(e){return Array.from(e.querySelectorAll('button:not([disabled]):not([aria-disabled="true"]):not([aria-disabled=""]), [tabindex]:not([disabled]):not([aria-disabled="true"]):not([aria-disabled=""])')).filter(o(e))}function u(){window.dispatchEvent(new CustomEvent("keyboard-navigation-activation",{bubbles:!0}))}function d(e){const t=(0,s.isRtl)();switch(e){case 38:return"blockPrev";case 40:return"blockNext";case 37:return t?"inlineNext":"inlinePrev";case 39:return t?"inlinePrev":"inlineNext";default:return null}}},439016:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TRADING_SERVICE:()=>s,tradingService:()=>r,waitTradingService:()=>o});var i=n(564894);const s={id:"TradingService"};function r(){return(0,i.hasService)(s)?(0,i.service)(s):null}function o(){return(0,i.waitServiceRegistered)(s)}},890972:(e,t,n)=>{"use strict";var i,s,r;n.d(t,{AdUnit:()=>i,Placement:()=>s,PlacementTargeting:()=>r}),function(e){e.IdeasStream="ideas stream",e.Platform="platform",e.PublishedIdea="published idea",e.NewMainIdeasStream="new main ideas stream",e.News="news"}(i||(i={})),function(e){e.Symbols="symbols",e.Platform="platform",e.Profile="profile",e.OpenedIdea="opened idea",e.Feeds="feeds",e.HeatMap="heatmap",e.Screener="screener",e.MainPage="main page",e.NewsPage="news page",e.NewsFeed="news feed",e.NewsSymbols="news symbols",e.NewsMarkets="news markets",e.Screenshot="screenshot"}(s||(s={})),function(e){e.Symbols="symbols",e.Platform="platform",e.Profile="profile",e.PublishedOpenedIdea="published opened idea",e.OpenedIdea="opened idea chart",e.HeatMap="heatmap",e.Screener="screener",e.MainPage="main page",e.NewsPage="news page",e.NewsFeed="news feed",e.NewsSymbols="news symbols",e.NewsMarkets="news markets",e.IdeasStreamFeed="ideas stream feeds",e.Screenshot="screenshot"}(r||(r={}))},764005:(e,t,n)=>{"use strict";function i(e,t,n){return e*(1-n)+t*n}n.d(t,{doAnimate:()=>o,lerp:()=>i});const s={from:0,duration:250,easing:n(81979).easingFunc.easeOutCubic};class r{constructor(e){this._doing=!0,this._completed=!1,this._options={...s,...e};const t=performance.now();window.requestAnimationFrame((e=>{this._animation(t,this._options.from,e)}))}stop(){this._doing=!1}completed(){return this._completed}
_animation(e,t,n){if(!this._doing)return void this._finishAnimation();const s=(n=!n||n<1e12?performance.now():n)-e,r=s>=this._options.duration||t===this._options.to,o=i(this._options.from,this._options.to,this._options.easing(s/this._options.duration)),a=r?this._options.to:o,l=a-t;this._options.onStep(l,a),r?this._finishAnimation():window.requestAnimationFrame((t=>{this._animation(e,a,t)}))}_finishAnimation(){this._options.onComplete&&this._options.onComplete(),this._completed=!0}}function o(e){return new r(e)}},851269:(e,t,n)=>{"use strict";n.d(t,{getCountries:()=>r});var i=n(120780);let s=null;async function r(){var e;if(null!==s)return s;const t=await(0,i.fetch)("/accounts/countries/",{credentials:"include"});if(!t.ok){const e=await t.json();throw Error(String(e))}const n=await t.json();return s={...n,current_country_code:null!==(e=n.current_country_code)&&void 0!==e?e:"US"},s}},403009:(e,t,n)=>{"use strict";var i;function s(e){return!(!e||!Object.keys(e).length)}function r(e){return!!e.is_trial}function o(e){return!!(null==e?void 0:e.pro_plan)}function a(e){return o(e)&&!r(e)}function l(e){return e.type===i.ProPlan}function c(e){return e.type===i.Exchange}function u(e){return e.type===i.Coins}function d(e){var t,n,i;return e?c(e)||u(e)?null!==(t=e.text_id)&&void 0!==t?t:"":null!==(i=null!==(n=e.discount_text_id)&&void 0!==n?n:e.text_id)&&void 0!==i?i:"":""}n.d(t,{ProductType:()=>i,getProductId:()=>d,isCoinsProduct:()=>u,isExchange:()=>c,isPaidPro:()=>a,isPlan:()=>l,isPro:()=>o,isProductDefined:()=>s,isTrial:()=>r}),function(e){e[e.ProPlan=1]="ProPlan",e[e.NewsFeed=3]="NewsFeed",e[e.Exchange=4]="Exchange",e[e.Connection=6]="Connection",e[e.Coins=8]="Coins"}(i||(i={}))},371927:(e,t,n)=>{"use strict";n.d(t,{ActionButtonsLayout:()=>r,ContentAlign:()=>s,PredefinedAction:()=>i});var i,s,r;n(919346);!function(e){e.Close="close",e.OpenGopro="openGopro"}(i||(i={})),function(e){e.Center="center",e.Left="left"}(s||(s={})),function(e){e.Row="row",e.Column="column"}(r||(r={}))},261642:(e,t,n)=>{"use strict";n.d(t,{initOrderDialogLoader:()=>r});var i=n(34077);let s=null;async function r(e=!1){if(s)return s;const t=document.querySelector("body"),r=document.createElement("div");t.classList.add("i-no-scroll"),r.classList.add(i.loaderContainer),e&&r.classList.add(i.loaderOrderContainer),t.appendChild(r);const{Spinner:o}=await Promise.all([n.e(76592),n.e(78775)]).then(n.bind(n,941285)),a=new o;return a.spin(r),e?r.classList.add(i.openOrderAnimation):r.classList.add(i.openAnimation),s=()=>{a&&a.destroy(),r&&t.contains(r)&&t.removeChild(r),s=null},s}},971843:(e,t,n)=>{"use strict";async function i(e){
(await Promise.all([n.e(18809),n.e(91047),n.e(24349),n.e(6609),n.e(67668),n.e(61132),n.e(8020),n.e(88223),n.e(95382),n.e(22666),n.e(62253),n.e(5993),n.e(92191),n.e(72639),n.e(34465),n.e(32109),n.e(9817),n.e(69121),n.e(53842),n.e(92108),n.e(4015),n.e(88194),n.e(66639),n.e(13423),n.e(87845),n.e(48986),n.e(93502),n.e(68992),n.e(88548),n.e(81643),n.e(76592),n.e(36884),n.e(13152),n.e(84281),n.e(91033),n.e(542),n.e(34545),n.e(47981),n.e(49205),n.e(6209),n.e(8740),n.e(13821),n.e(36842),n.e(27620),n.e(87689),n.e(73628),n.e(93496),n.e(20941),n.e(37121),n.e(43131),n.e(73028),n.e(46987),n.e(11705),n.e(24139),n.e(37221),n.e(78693),n.e(24561),n.e(19806),n.e(75640),n.e(20563),n.e(32366),n.e(30794),n.e(59859),n.e(35995),n.e(95074),n.e(19545),n.e(50135),n.e(30240),n.e(962),n.e(4945),n.e(16480),n.e(94584),n.e(42292),n.e(73026),n.e(42198),n.e(45071),n.e(15308),n.e(43312),n.e(78415),n.e(93565),n.e(98220),n.e(46821),n.e(32895),n.e(17446),n.e(55626),n.e(78703)]).then(n.bind(n,202077))).openPaymentOrderDialog(e)}n.r(t),n.d(t,{showPaymentOrderDialog:()=>i})},683253:(e,t,n)=>{"use strict";n.d(t,{check:()=>s});var i=n(851269);async function s(){const{is_restricted:e}=await(0,i.getCountries)();return e}},419398:(e,t,n)=>{"use strict";n.r(t),n.d(t,{showRestrictedCountryNotificationDialog:()=>r});var i=n(444372),s=n(779923);function r(){(0,s.showWarning)({title:i.t(null,void 0,n(513111)),text:i.t(null,void 0,n(82352))})}},548261:(e,t,n)=>{"use strict";async function i(e){Promise.all([n.e(18809),n.e(95549),n.e(6609),n.e(43225),n.e(22666),n.e(62253),n.e(92191),n.e(32109),n.e(9817),n.e(92108),n.e(13423),n.e(48986),n.e(68992),n.e(81643),n.e(33199),n.e(36953),n.e(967),n.e(27781),n.e(61298),n.e(6209),n.e(8740),n.e(61633),n.e(37221),n.e(59859),n.e(43830),n.e(17711),n.e(962),n.e(257),n.e(16230),n.e(42198),n.e(597),n.e(88619),n.e(15199)]).then(n.bind(n,810369)).then((({showBeforeYouProceedDialog:t})=>t(e)))}n.r(t),n.d(t,{showBeforeYouProceedDialog:()=>i})},434290:(e,t,n)=>{"use strict";async function i(e,t,i,s=!0){Promise.all([n.e(18809),n.e(6609),n.e(43225),n.e(22666),n.e(62253),n.e(92191),n.e(32109),n.e(9817),n.e(92108),n.e(13423),n.e(48986),n.e(6209),n.e(8740),n.e(37221),n.e(59859),n.e(43830),n.e(962),n.e(257),n.e(62526),n.e(42198),n.e(60662),n.e(88619),n.e(79124)]).then(n.bind(n,859786)).then((({showDeclarationDialog:n})=>n(e,t,i,s)))}n.d(t,{showDeclarationDialog:()=>i})},21509:(e,t,n)=>{"use strict";n.d(t,{showWithUserDeclarationDialog:()=>a});var i=n(434290),s=n(548261),r=n(807655),o=n(793335);const a=e=>{const{callback:t,isExpertProduct:n,isCloseButtonShown:a,onClose:l}=e;return null===window.user.declared_status?((0,o.trackUserDeclarationEvent)("show_user_declaration",r.UserStatus.NonPro),(0,i.showDeclarationDialog)(t,l,n,void 0===a||a)):(e=>{var t,n,i;return void 0!==e&&!e&&(null===(t=window.user)||void 0===t?void 0:t.declared_status)===r.UserStatus.Pro&&!(null===(n=window.user)||void 0===n?void 0:n.is_expert)&&Boolean(null===(i=window.user)||void 0===i?void 0:i.is_pro)})(n)?(0,s.showBeforeYouProceedDialog)(l):t()}},793335:(e,t,n)=>{
"use strict";n.d(t,{trackUserDeclarationEvent:()=>s});var i=n(776734);async function s(e,t){const n=await(0,i.getTracker)(),s={action:e,status:t};n&&n.trackUserDeclarationEvent(s)}},807655:(e,t,n)=>{"use strict";n.d(t,{DAYS_UNTIL_BLOCK:()=>r,UserStatus:()=>i,getDaysUntilBlock:()=>o,isUserLockedOut:()=>a});var i,s=n(755785);!function(e){e.NonPro="non_pro",e.Pro="pro"}(i||(i={}));const r=30,o=(0,s.memoize)((()=>{const e=window.user.declared_status_timestamp;if(!e)return null;const t=((new Date).getTime()-new Date(1e3*e).getTime())/1e3/24/60/60;return r-Math.floor(t)})),a=(0,s.memoize)((e=>{const t=null!=e?e:o();return Boolean(t&&t<0)}))},960769:(e,t,n)=>{"use strict";n(586463);var i=n(324951),s=n(414879),r=s.WeekDays,o=s.Months,a=n(936410),l=a.monthsFullNames,c=a.monthsShortNames,u=a.weekDaysFullNames,d=a.weekDaysShortNames,h=a.weekDaysMiniNames;window.language&&(i.locale(window.language,{months:[l[o.JANUARY],l[o.FEBRUARY],l[o.MARCH],l[o.APRIL],l[o.MAY],l[o.JUNE],l[o.JULY],l[o.AUGUST],l[o.SEPTEMBER],l[o.OCTOBER],l[o.NOVEMBER],l[o.DECEMBER]],monthsShort:[c[o.JANUARY],c[o.FEBRUARY],c[o.MARCH],c[o.APRIL],c[o.MAY],c[o.JUNE],c[o.JULY],c[o.AUGUST],c[o.SEPTEMBER],c[o.OCTOBER],c[o.NOVEMBER],c[o.DECEMBER]],weekdays:[u[r.SUNDAY],u[r.MONDAY],u[r.TUESDAY],u[r.WEDNESDAY],u[r.THURSDAY],u[r.FRIDAY],u[r.SATURDAY]],weekdaysShort:[d[r.SUNDAY],d[r.MONDAY],d[r.TUESDAY],d[r.WEDNESDAY],d[r.THURSDAY],d[r.FRIDAY],d[r.SATURDAY]],weekdaysMin:[h[r.SUNDAY],h[r.MONDAY],h[r.TUESDAY],h[r.WEDNESDAY],h[r.THURSDAY],h[r.FRIDAY],h[r.SATURDAY]],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MMM D",l:"M/D/YYYY",LL:"MMM D, YYYY",ll:"MMM D LT",LLL:"LT - LL",lll:"MMM D, YYYY LT",LLLL:"ddd D MMMM YYYY LT",llll:"ddd D MMM YYYY LT"},calendar:{sameDay:n.tf(null,void 0,n(69130)).format({specialSymbolOpen:"[",specialSymbolClose:"]",dayTime:"LT"}),nextDay:n.tf(null,void 0,n(225744)).format({specialSymbolOpen:"[",specialSymbolClose:"]",dayTime:"LT"}),nextWeek:n.tf(null,void 0,n(529140)).format({specialSymbolOpen:"[",specialSymbolClose:"]",dayTime:"LT",dayName:"dddd"}),lastDay:n.tf(null,void 0,n(393650)).format({specialSymbolOpen:"[",specialSymbolClose:"]",dayTime:"LT"}),lastWeek:n.tf(null,void 0,n(448948)).format({specialSymbolOpen:"[",specialSymbolClose:"]",dayTime:"LT",dayName:"dddd"}),sameElse:"L"},relativeTime:{future:function(e){return e===n.tf(null,void 0,n(542974))?e:n.tf(null,{context:"time_range"},n(544919)).replace("%s",e)},past:function(e){return e===n.tf(null,void 0,n(542974))?e:n.tf(null,{context:"time_range"},n(692466)).replace("%s",e)},s:n.tf(null,void 0,n(542974)),m:function(e){return n.tf(null,{plural:"%d minutes",count:e},n(425821)).replace("%d",e)},mm:function(e){return n.tf(null,{plural:"%d minutes",count:e},n(425821)).replace("%d",e)},h:n.tf(null,void 0,n(290487)),hh:function(e){return n.tf(null,{plural:"%d hours",count:e},n(189279)).replace("%d",e)},d:n.tf(null,void 0,n(19304)),dd:function(e){return n.tf(null,{plural:"%d days",count:e},n(482792)).replace("%d",e)},M:n.tf(null,void 0,n(268733)),MM:function(e){return n.tf(null,{plural:"%d months",
count:e},n(117108)).replace("%d",e)},y:n.tf(null,void 0,n(802730)),yy:function(e){return n.tf(null,{plural:"%d years",count:e},n(406550)).replace("%d",e)}},week:{dow:1,doy:4}}),i.locale(window.language)),e.exports=i},318172:(e,t,n)=>{"use strict";n.d(t,{Pro:()=>d});var i=n(120780),s=n(101090),r=n(746133),o=n(403009),a=n(707957),l=n(588948),c=n(201089);const u=(0,l.getFreshInitData)();class d{constructor(e){var t;this.packagesUpdated=new a.Delegate,this.PRODUCT_TYPES={pro_plan:1,exchange:4,connection:6,coins:8},this._products={},this._invalidShopConf=!1,this._freeProductIds=["tv-scripting","tv-basicstudies","tv-prostudies","Script$USER","Script$EDGR","ESD$TV"],this._discounts={},this._offers=[],this._logger=(0,c.getLogger)("Pro"),e&&(this._offers=null!==(t=e.offers)&&void 0!==t?t:[],this._invalidShopConf=!0,"undefined"!=typeof window&&window.loginStateChange.subscribe(this,this.onLoginStateChange))}isDiscountProductId(e){return e in this._discounts}hasPackage(e){return this._offers.includes(e)||this._freeProductIds.includes(e)}async updateShopConf(e=!1){return void 0!==this._shopConfPromise||(this._shopConfPromise=(0,i.fetch)("/market/shopconf/",{credentials:"include"}).then((async t=>{const n=await t.json();return this._products=n.all_products&&JSON.parse(n.all_products)||{},this._discounts=n.discounts&&JSON.parse(n.discounts)||{},this._offers=n.offers&&JSON.parse(n.offers)||[],this._invalidShopConf=!1,delete this._shopConfPromise,e||this.packagesUpdated.fire(),n})).catch((()=>{throw this._logger.logError("Update shopconf error"),delete this._shopConfPromise,Error("Update shopconf error")}))),this._shopConfPromise}invalidateShopConf(){this._invalidShopConf=!0}isInvalidShopConf(){return!!this._invalidShopConf}ensureValidShopConf(){return new Promise((e=>this.runOrUpdate(e)))}onLoginStateChange(e){e||this.updateShopConf()}runOrUpdate(e,t){this.isInvalidShopConf()?this.updateShopConf(t).then(e):e()}getIDCExchanges(e){const t=this._products;if(u)if(e){if(u.idc_delay_exchanges_list)return u.idc_delay_exchanges_list}else if(u.idc_exchanges_list)return u.idc_exchanges_list;return Object.keys(t).filter((n=>{const i=t[n];return!!(0,o.isExchange)(i)&&(e?i.idc_service_codes_delay:i.idc_service_codes)})).map((e=>t[e].exchange))}getProduct(e){if(e in this._products)return this._products[e];if(this.isDiscountProductId(e)){const t=this._discounts[e],n={discount_text_id:e,...this._products[t.product]};return void 0!==t.fixed_cost&&(n.fixed_cost=t.fixed_cost),void 0!==t.extra_days&&(n.extra_days=t.extra_days),void 0!==t.billing_cycle&&(n.billing_cycle=t.billing_cycle),void 0!==t.next_billing_cycle&&(n.next_billing_cycle=t.next_billing_cycle),n}return{}}async findProduct(e){if(this.isInvalidShopConf())try{await this.updateShopConf()}catch(e){}return this.getProduct(e)}getDiscountProduct(e){var t;return null!==(t=this._discounts[e])&&void 0!==t?t:{}}isOffer(e,t){return Object.keys(this._discounts).filter((e=>!this._discounts[e].expired&&this._discounts[e].offer_type===t)).includes(e)}getUserExchanges(){var e
;const t=null===(e=window.pro)||void 0===e?void 0:e.offers();return t?t.map((e=>this.getProduct(e))).filter((e=>(0,o.isExchange)(e))):[]}getUserExchangeByPerm(e){return this.getUserExchanges().find((t=>t.exchange===e))}getExchange(e){const t=this.getProductsByType(o.ProductType.Exchange);let n;for(let i=0;i<t.length;i+=1)if(n=t[i],n.exchange===e||n.included_exchanges&&n.included_exchanges.includes(e))return n;return{}}getProductsByType(e){return Object.keys(this._products).filter((t=>this._products[t].type===e)).map((e=>this.getProduct(e)))}getProPlanProducts(){return this.getProductsByType(o.ProductType.ProPlan).filter((e=>!e.is_expert))}getExpertPlanProducts(){return this.getProductsByType(o.ProductType.ProPlan).filter((e=>e.is_expert))}getPaidExchangesForProfessional(){return this.getProductsByType(o.ProductType.Exchange).filter((e=>e.paid_for_expert))}getProPlanProductsList(){return this.getProPlanProducts().map((e=>e.text_id))}getExpertPlanProductsList(){return this.getExpertPlanProducts().map((e=>e.text_id))}isExpertProduct(e){return this.getExpertPlanProductsList().includes(e)}isPro(){return(0,o.isPro)(window.user)}getSuperProduct(e){}getStudiesOrder(){return[]}userHasRealtimeForExchange(e){const t=(null!=e?e:"").toLowerCase().replace("exchange-",""),n=this.getExchange(t);if(!(0,o.isProductDefined)(n))return!1;if(this._offers.includes("exchange-"+n.exchange))return!0;if(n.included_exchanges)for(let e=0;e<n.included_exchanges.length;e+=1)if(this._offers.includes("exchange-"+n.included_exchanges[e]))return!0;return!1}hasRealtimeForExchange(e,t){const n=this.getProductsByType(o.ProductType.Exchange),i=(null!=e?e:"").toLowerCase();for(let e=0;e<n.length;e+=1){const s=n[e];if(s.exchange===i||(s.included_exchanges||[]).includes(i)){if(s.disabled&&!s.included_exchanges)return!1;if(!t)return!0;if(s.included_exchanges){let e;for(let n=0;n<s.included_exchanges.length;n+=1){const i=this.getProduct("exchange-"+s.included_exchanges[n]);if((0,o.isProductDefined)(i)&&(0,o.isExchange)(i)&&this._exHasRealtimeForType(i,t)){e=!0;break}}if(!e)return!1}else if(!this._exHasRealtimeForType(s,t))return!1;return!0}}return!1}visitExchangesPage(e={}){var t;let n=r.BillingCycle.Monthly,i=!0;const o=window.user;o.is_trial||(n=null!==(t=o.pro_plan_billing_cycle)&&void 0!==t?t:r.BillingCycle.OneYear,i=!1),(0,s.visitPaymentPage)(n,{exchangesOnly:!0,paymentMethod:e.paymentMethod,fixedCycle:i,selectedPackages:e.selectedPackages})}offers(){return this._offers}isSupportAvailable(){var e;return Boolean((null===(e=window.user)||void 0===e?void 0:e.is_support_available)||u.is_support_available)}discounts(){return this._discounts}hash(){const e=this._offers.slice(0);e.sort();const t={offers:e};return JSON.stringify(t)}_exHasRealtimeForType(e,t){return!("stock"===t&&!e.is_stocks)&&(!("index"===t&&!e.is_indices)&&!("futures"===t&&!e.is_futures))}}"undefined"!=typeof window&&window.TradingView&&(window.TradingView.Pro=d)},266325:(e,t,n)=>{"use strict";function i(e){let t=null;return(n,...i)=>(null==t||t.abort(),t=new AbortController,
null==n||n.addEventListener("error",(()=>null==t?void 0:t.abort()),{once:!0}),e(t.signal,...i))}function s(e){if(!l(e))throw e}function r(e){if(l(e))throw e}function o(e){return(null==e?void 0:e.aborted)?Promise.reject(a()):new Promise(((t,n)=>{null==e||e.addEventListener("abort",(()=>n(a())),{once:!0})}))}function a(){return new DOMException("Aborted","AbortError")}function l(e){return e instanceof Error&&"AbortError"===e.name}function c(e,t){return Promise.race([o(e),t])}async function u(e,t){let n;try{await c(e,new Promise((e=>{n=setTimeout(e,t)})))}finally{clearTimeout(n)}}n.d(t,{createAbortError:()=>a,delay:()=>u,isAbortError:()=>l,respectAbort:()=>c,respectLatest:()=>i,rethrowAbortError:()=>r,skipAbortError:()=>s})},755785:(e,t,n)=>{"use strict";function i(e,t){const n=new Map;return function(...i){const s=""+(t?t.apply(null,i):i[0]);if(!n.has(s)){const t=e.apply(this,i);return n.set(s,t),t}return n.get(s)}}function s(e){return(t,n,s)=>{const r=s.value,o=Symbol();return{get(){return void 0===this[o]&&(this[o]=i(r,e)),this[o].bind(this)}}}}n.d(t,{memoize:()=>i,memoizeDecorator:()=>s})},501437:(e,t,n)=>{"use strict";function i(e){return decodeURIComponent(e.replace(/\+/g," ")).replace(/<\/?[^>]+(>|$)/g,"")}function s(e){const t=/([^&=]+)=?([^&]*)/g,n={};if(!e)return n;let s=t.exec(e);for(;s;)n[i(s[1])]=i(s[2]),s=t.exec(e);return n}function r(){return s(window.location.search.substring(1))}function o(){return s(window.location.hash.split("#")[1])}function a(e){const t=[];for(const n in e)e.hasOwnProperty(n)&&null!=e[n]&&t.push({key:n,pair:encodeURIComponent(n)+"="+encodeURIComponent(e[n])});return t.sort(((e,t)=>e.key>t.key?1:e.key<t.key?-1:0)).map((e=>e.pair)).join("&")}n.d(t,{createUrlParams:()=>a,getHashUrlParams:()=>o,getQueryParams:()=>s,getUrlParams:()=>r})},101090:(e,t,n)=>{"use strict";n.d(t,{visitPaymentPage:()=>d});var i=n(444372),s=n(971843),r=n(746133),o=n(683253),a=n(419398),l=n(261642),c=n(501437),u=n(21509);function d(e="y",t={},d){var h;const f=null!==(h=t.productName)&&void 0!==h?h:"pro",p="bitcoin"===(t.paymentMethod||"paypal")?"Bitcoin payment":"Paypal payment",_=null!=d?d:(0,l.initOrderDialogLoader)();window.runOrSignIn((async()=>{var i;if(await(0,o.check)())return void(0,a.showRestrictedCountryNotificationDialog)();if("function"==typeof t.canVisit&&!t.canVisit())return void(t.reloadIfCantVisit?location.reload():location.href="/");const{coupon:l,coupon_billing_cycle:d}=(0,c.getUrlParams)(),{updateConversionData:h}=await n.e(19434).then(n.bind(n,388326)),f=await h("gopro-payment-dialog"),p=()=>(0,s.showPaymentOrderDialog)({productId:t.productName,billingCycle:t.exchangesOnly?r.BillingCycle.Monthly:e,fixedCycle:t.fixedCycle,exchanges:t.selectedPackages,coupon:Boolean(d)?l:void 0,planStatus:t.planStatus,initialSelectedPackageName:t.initialSelectedPackageName,initialState:{user:f.user,state:f.state}});null===(i=window.pro)||void 0===i||i.runOrUpdate((()=>{var e;const n=Boolean(t.productName&&(null===(e=window.pro)||void 0===e?void 0:e.isExpertProduct(t.productName)))
;return t.isPromoOrder?p().then((async()=>(await _)())):(0,u.showWithUserDeclarationDialog)({callback:p,isExpertProduct:n}).then((async()=>{(await _)()}))}))}),{source:p,paidAccountCheck:window.pro&&window.pro.getProduct(f).type===window.pro.PRODUCT_TYPES.pro_plan,paidAccountSuccessButtonText:i.t(null,void 0,n(976111)),onUnmountEvent:async()=>{d?d():(await _)()}})}}}]);